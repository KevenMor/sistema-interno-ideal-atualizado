<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sistema Interno Ideal</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="login-style.css">
    <style>
        :root {
            /* Company color palette */
            --primary-blue: #1a73e8;
            --secondary-blue: #4285f4;
            --light-blue: #e8f0fe;
            --dark-blue: #174ea6;
            --text-dark: #202124;
            --text-light: #5f6368;
            --white: #ffffff;
            --gray-100: #f8f9fa;
            --gray-200: #e9ecef;
            --gray-300: #dee2e6;
        }

        body {
            font-family: 'Inter', Arial, sans-serif;
            background: #f4f7fe; /* fundo clean */
            margin: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow-x: hidden;
        }

        /* Bolha azul no canto superior esquerdo */
        .bg-bubble-top-left {
            position: absolute;
            top: -120px;
            left: -120px;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle at 60% 40%, #4285f4 80%, #1a73e8 100%);
            opacity: 0.18;
            border-radius: 50%;
            z-index: 0;
        }

        /* Bolha azul no canto inferior direito */
        .bg-bubble-bottom-right {
            position: absolute;
            bottom: -120px;
            right: -120px;
            width: 350px;
            height: 350px;
            background: radial-gradient(circle at 40% 60%, #1a73e8 80%, #4285f4 100%);
            opacity: 0.18;
            border-radius: 50%;
            z-index: 0;
        }

        /* Opcional: bolha menor em outro canto */
        .bg-bubble-bottom-left {
            position: absolute;
            bottom: 40px;
            left: -80px;
            width: 120px;
            height: 120px;
            background: radial-gradient(circle at 60% 40%, #2563eb 80%, #4285f4 100%);
            opacity: 0.12;
            border-radius: 50%;
            z-index: 0;
        }

        .container {
            background: #fff;
            border-radius: 14px;
            box-shadow: 0 4px 24px rgba(37,99,235,0.08);
            padding: 2rem 1.5rem 1.5rem 1.5rem;
            max-width: 700px;
            width: 100%;
            margin: 2rem auto;
            box-sizing: border-box;
        }

        .form-label {
            font-weight: 600;
            margin-bottom: 0.25rem;
            display: block;
        }

        .form-control, .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            margin-bottom: 1rem;
            background: #f8fafc;
            transition: border 0.2s;
            box-sizing: border-box;
        }

        .form-control:focus, .form-select:focus {
            border-color: #2563eb;
            outline: none;
        }

        .payment-type-options {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .payment-type-option {
            flex: 1 1 200px;
            min-width: 180px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: #f8fafc;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: border 0.2s, background 0.2s;
        }

        .payment-type-option input[type="radio"] {
            accent-color: #2563eb;
            margin-right: 0.5rem;
        }

        .payment-type-option label {
            cursor: pointer;
            font-weight: 500;
            color: #2563eb;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            width: 100%;
            background: #2563eb;
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 0.9rem 0;
            font-size: 1.1rem;
            font-weight: 600;
            margin-top: 1.5rem;
            cursor: pointer;
            transition: background 0.2s;
            box-shadow: 0 2px 8px rgba(37,99,235,0.08);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-primary:disabled {
            background: #bcd0fa;
            cursor: not-allowed;
        }

        h5 {
            font-size: 1.1rem;
            color: #2563eb;
            margin-bottom: 1rem;
            margin-top: 1.5rem;
        }

        @media (max-width: 700px) {
            .container {
                padding: 1rem 0.5rem;
                max-width: 100vw;
            }
            .payment-type-options {
                gap: 0.5rem;
                overflow-x: auto;
                flex-wrap: nowrap;
            }
            .payment-type-option {
                min-width: 180px;
                width: auto;
                flex: 0 0 auto;
            }
        }

        /* CSS espec√≠fico para o extrato */
        .extrato-controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
            backdrop-filter: blur(10px);
        }

        .extrato-filters-row {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: flex-end;
        }

        .extrato-filter-container {
            display: flex;
            flex-direction: column;
            gap: 5px;
            min-width: 160px;
        }

        .extrato-filter-label {
            font-weight: 500;
            color: var(--text-dark);
            font-size: 14px;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .extrato-filter-select, .extrato-filter-input {
            padding: 12px 16px;
            border: 2px solid var(--gray-200);
            border-radius: 8px;
            font-size: 14px;
            background-color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 160px;
        }

        .extrato-filter-select:focus, .extrato-filter-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.1);
        }

        .extrato-search-container {
            flex: 1;
            max-width: 400px;
        }

        .extrato-search-input-container {
            position: relative;
            display: flex;
            align-items: center;
        }

        .extrato-search-icon {
            position: absolute;
            left: 16px;
            color: var(--text-light);
            font-size: 16px;
            z-index: 2;
        }

        .extrato-search-input {
            width: 100%;
            padding: 12px 16px 12px 48px;
            border: 2px solid var(--gray-200);
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .extrato-search-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.1);
        }

        .extrato-stats-container {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .extrato-stat-card {
            background: white;
            padding: 25px 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            flex: 1;
            min-width: 200px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: transform 0.2s ease;
        }

        .extrato-stat-card:hover {
            transform: translateY(-2px);
        }

        .extrato-stat-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .extrato-stat-content h6 {
            color: var(--text-light);
            font-size: 14px;
            font-weight: 500;
            margin: 0 0 5px 0;
        }

        .extrato-stat-content span {
            color: var(--text-dark);
            font-size: 1.5rem;
            font-weight: 600;
        }

        .extrato-table-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            position: relative;
        }

        .extrato-error-message {
            background: #fee2e2;
            color: #991b1b;
            padding: 15px 20px;
            margin: 20px;
            border-radius: 8px;
            border-left: 4px solid #dc2626;
        }

        .extrato-no-data-message {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-light);
        }

        .extrato-no-data-message i {
            font-size: 3rem;
            margin-bottom: 15px;
            opacity: 0.5;
        }

        .extrato-no-data-message p {
            font-size: 1.1rem;
            margin: 10px 0 5px 0;
        }

        .extrato-no-data-message small {
            opacity: 0.7;
        }

        .extrato-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }

        .extrato-table th {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            color: white;
            padding: 15px 12px;
            text-align: left;
            font-weight: 500;
            font-size: 13px;
        }

        .extrato-table th i {
            margin-right: 5px;
        }

        .extrato-table td {
            padding: 15px 12px;
            border-bottom: 1px solid var(--gray-200);
            color: var(--text-dark);
        }

        .extrato-table tbody tr:hover {
            background-color: var(--gray-100);
        }

        .extrato-table tbody tr:last-child td {
            border-bottom: none;
        }

        .valor-cell {
            font-weight: 600;
            color: var(--primary-blue);
        }

        .extrato-toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .toast {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
            padding: 15px 20px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 300px;
            animation: slideIn 0.3s ease;
        }

        .toast.success {
            border-left: 4px solid #10b981;
        }

        .toast.error {
            border-left: 4px solid #ef4444;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .loading-spinner {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <!-- Background bubbles -->
    <div class="bg-bubble-top-left"></div>
    <div class="bg-bubble-bottom-right"></div>
    <div class="bg-bubble-bottom-left"></div>
    
    <div class="container main-container" style="position:relative;">
        <button id="logoutBtn" class="btn btn-outline-danger" style="position:absolute; top:16px; right:16px; z-index:10;">
            <i class="bi bi-box-arrow-right"></i> Sair
        </button>
        
        <!-- Logo Section -->
        <div class="logo-container">
            <img src="https://static.wixstatic.com/media/030da1_fec378b6fe8d4ee2b9a5a51b96f6febb~mv2.png/v1/fill/w_132,h_68,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/Logo.png" 
                 alt="Autoescola Ideal Logo" 
                 class="img-fluid">
        </div>

        <!-- Message Tab Content -->
        <div id="messageTab" class="tab-content active">
            <form id="messageForm" class="needs-validation" novalidate>
                <div class="mb-3">
                    <label for="fullName" class="form-label">Nome Completo</label>
                    <input type="text" class="form-control" id="fullName" required>
                    <div class="invalid-feedback">Por favor, insira o nome completo.</div>
                </div>
                <div class="mb-3">
                    <label for="whatsapp" class="form-label">WhatsApp</label>
                    <input type="tel" class="form-control" id="whatsapp" required>
                    <div class="invalid-feedback">Por favor, insira um n√∫mero de WhatsApp v√°lido.</div>
                </div>
                <div class="mb-3">
                    <label for="messageType" class="form-label">Tipo de Mensagem</label>
                    <select class="form-select" id="messageType" required>
                        <option value="">Selecione o tipo</option>
                        <option value="boas-vindas">Boas-vindas</option>
                        <option value="recado-importante">Recado Importante</option>
                    </select>
                    <div class="invalid-feedback">Por favor, selecione o tipo de mensagem.</div>
                </div>
                
                <div id="templateSection" style="display:none;">
                    <div class="template-options"></div>
                </div>

                <button type="submit" class="btn btn-primary w-100">
                    <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                    Enviar Mensagem
                </button>
            </form>
        </div>

        <!-- Payment Tab Content -->
        <div id="paymentTab" class="tab-content">
            <form id="paymentForm" class="needs-validation" novalidate>
                <div class="mb-3">
                    <label for="paymentUnit" class="form-label">Unidade de Cadastro</label>
                    <select class="form-select" id="paymentUnit" required>
                        <option value="">Selecione a unidade</option>
                        <option value="vila helena">Vila Helena</option>
                        <option value="vila progresso">Vila Progresso</option>
                        <option value="aparecidinha">Aparecidinha</option>
                        <option value="julio de mesquita">Julio de Mesquita</option>
                        <option value="vila haro">Vila Haro</option>
                        <option value="coop">Coop</option>
                    </select>
                    <div class="invalid-feedback">
                        Por favor, selecione uma unidade.
                    </div>
                </div>

                <div class="payment-type-cards">
                    <label class="payment-type-card">
                        <input type="radio" name="paymentType" value="boleto" required>
                        <span>
                            <div class="card-title">Boleto</div>
                            <div class="card-desc">Pagamento via boleto banc√°rio</div>
                        </span>
                    </label>
                    <label class="payment-type-card">
                        <input type="radio" name="paymentType" value="pix" required>
                        <span>
                            <div class="card-title">Pix</div>
                            <div class="card-desc">Pagamento instant√¢neo via Pix</div>
                        </span>
                    </label>
                </div>

                <!-- Campos para Pix -->
                <div id="pixFields" style="display:none;">
                    <h5>Dados para Pagamento via Pix</h5>
                    <label for="pixKeyType" class="form-label">Tipo de chave Pix</label>
                    <select id="pixKeyType" class="form-select" required>
                        <option value="">Selecione o tipo de chave</option>
                        <option value="celular">Celular</option>
                        <option value="copiaecola">Copia e Cola</option>
                        <option value="email">E-mail</option>
                        <option value="cpf">CPF</option>
                        <option value="cnpj">CNPJ</option>
                    </select>
                    <label for="pixKey" class="form-label">Chave Pix</label>
                    <input type="text" id="pixKey" class="form-control" required>
                    <label for="favorecidoPix" class="form-label">Nome do favorecido ou Raz√£o Social</label>
                    <input type="text" id="favorecidoPix" class="form-control" required>
                    <label for="cpfCnpjFavorecidoPix" class="form-label">CPF ou CNPJ do favorecido</label>
                    <input type="text" id="cpfCnpjFavorecidoPix" class="form-control" required>
                    <label for="valorPix" class="form-label">Valor</label>
                    <input type="number" id="valorPix" class="form-control" min="0" step="0.01" required>
                    <label for="vencimentoPix" class="form-label">Data de Vencimento</label>
                    <input type="date" id="vencimentoPix" class="form-control" required>
                    <label for="descricaoPix" class="form-label">Descri√ß√£o</label>
                    <input type="text" id="descricaoPix" class="form-control" required>
                </div>

                <!-- Campos para Boleto -->
                <div id="boletoFields" style="display:none;">
                    <h5>Dados para Pagamento via Boleto</h5>
                    <label for="codigoBarrasBoleto" class="form-label">C√≥digo de Barras</label>
                    <input type="text" class="form-control" id="codigoBarrasBoleto" required pattern="[0-9]{44}" title="Digite exatamente 44 n√∫meros" maxlength="44">
                    <div id="codigoBarrasFormatado" class="form-text"></div>
                    <label for="valorBoleto" class="form-label">Valor</label>
                    <input type="number" class="form-control" id="valorBoleto" min="0" step="0.01" required>
                    <label for="dataPagamentoBoleto" class="form-label">Data de Pagamento</label>
                    <input type="date" class="form-control" id="dataPagamentoBoleto" required max="2023-12-31">
                    <label for="descricaoBoleto" class="form-label">Descri√ß√£o do Boleto</label>
                    <input type="text" class="form-control" id="descricaoBoleto" required>
                </div>

                <button type="submit" class="btn-primary">Registrar Pagamento</button>
            </form>
        </div>

        <!-- Charge Tab Content -->
        <div id="chargeTab" class="tab-content">
            <form id="chargeForm" class="needs-validation" novalidate>
                <!-- Client Information Section -->
                <div class="mb-4">
                    <h5 class="section-title">Informa√ß√µes do Cliente</h5>
                    <div class="row g-3">
                        <!-- Full Name Input -->
                        <div class="col-md-6">
                            <label for="clientName" class="form-label">Nome Completo</label>
                            <input type="text" class="form-control" id="clientName" required>
                            <div class="invalid-feedback">
                                Por favor, insira o nome completo.
                            </div>
                        </div>

                        <!-- CPF Input -->
                        <div class="col-md-6">
                            <label for="clientCPF" class="form-label">CPF</label>
                            <input type="text" class="form-control" id="clientCPF" 
                                   pattern="[0-9]{11}" required>
                            <div class="invalid-feedback">
                                Por favor, insira um CPF v√°lido (11 d√≠gitos).
                            </div>
                        </div>

                        <!-- Client Email Input -->
                        <div class="col-md-6">
                            <label for="clientEmail" class="form-label">E-mail</label>
                            <input type="email" class="form-control" id="clientEmail" required>
                            <div class="invalid-feedback">
                                Por favor, insira um e-mail v√°lido.
                            </div>
                        </div>

                        <!-- Client Phone Input -->
                        <div class="col-md-6">
                            <label for="clientPhone" class="form-label">WhatsApp</label>
                            <input type="tel" class="form-control" id="clientPhone" 
                                   pattern="[0-9]{10,11}" required>
                            <div class="invalid-feedback">
                                Por favor, insira um n√∫mero v√°lido (10 ou 11 d√≠gitos).
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Service Information Section -->
                <div class="mb-4">
                    <h5 class="section-title">Informa√ß√µes do Servi√ßo</h5>
                    <div class="row g-3">
                        <!-- Branch Selection -->
                        <div class="col-md-6">
                            <label for="branch" class="form-label">Unidade de Cadastro</label>
                            <select class="form-select" id="branch" required>
                                <option value="">Selecione a unidade</option>
                                <option value="vila helena">Vila Helena</option>
                                <option value="vila progresso">Vila Progresso</option>
                                <option value="aparecidinha">Aparecidinha</option>
                                <option value="julio de mesquita">Julio de Mesquita</option>
                                <option value="vila haro">Vila Haro</option>
                                <option value="coop">Coop</option>
                            </select>
                            <div class="invalid-feedback">
                                Por favor, selecione uma unidade.
                            </div>
                        </div>

                        <!-- Category Selection -->
                        <div class="col-md-6">
                            <label for="category" class="form-label">Categoria</label>
                            <select class="form-select" id="category" required>
                                <option value="">Selecione a categoria</option>
                                <option value="1¬∫ CNH A">1¬∫ CNH A</option>
                                <option value="1¬∫ CNH B COM SIMULADOR">1¬∫ CNH B COM SIMULADOR</option>
                                <option value="1¬∫ CNH A/B COM SIMULADOR">1¬∫ CNH A/B COM SIMULADOR</option>
                                <option value="1¬∫ CNH B SEM SIMULADOR">1¬∫ CNH B SEM SIMULADOR</option>
                                <option value="1¬∫ CNH A/B SEM SIMULADOR">1¬∫ CNH A/B SEM SIMULADOR</option>
                                <option value="ADI√á√ÉO A">ADI√á√ÉO A</option>
                                <option value="ADI√á√ÉO B">ADI√á√ÉO B</option>
                                <option value="MUDAN√áA CATEGORIA D">MUDAN√áA CATEGORIA D</option>
                                <option value="ADI√á√ÉO A/D">ADI√á√ÉO A/D</option>
                                <option value="AULA EXTRA">AULA EXTRA</option>
                                <option value="CURSO CFCA">CURSO CFCA</option>
                            </select>
                            <div class="invalid-feedback">
                                Por favor, selecione uma categoria.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Payment Information Section -->
                <div class="mb-4">
                    <h5 class="section-title">Informa√ß√µes de Pagamento</h5>
                    <div class="row g-3">
                        <!-- Payment Method -->
                        <div class="col-md-6">
                            <label for="paymentMethod" class="form-label">M√©todo de Pagamento</label>
                            <select class="form-select" id="paymentMethod" required>
                                <option value="">Selecione o m√©todo</option>
                                <option value="Avista">√Ä Vista</option>
                                <option value="Boleto">Boleto</option>
                                <option value="Cart√£o de Cr√©dito">Cart√£o de Cr√©dito</option>
                                <option value="Cr√©dito Recorrente">Cr√©dito Recorrente</option>
                            </select>
                            <div class="invalid-feedback">
                                Por favor, selecione um m√©todo de pagamento.
                            </div>
                        </div>

                        <!-- Total Amount -->
                        <div class="col-md-6">
                            <label for="valorTotal" class="form-label">Valor Total</label>
                            <div class="input-group">
                                <span class="input-group-text">R$</span>
                                <input type="number" class="form-control" id="valorTotal" min="0" step="0.01" required>
                            </div>
                            <div class="invalid-feedback">
                                Por favor, insira o valor total.
                            </div>
                        </div>

                        <!-- Installments Section -->
                        <div class="col-md-6">
                            <label for="installments" class="form-label">N√∫mero de Parcelas</label>
                            <select class="form-select" id="installments" required>
                                <option value="1">1x</option>
                                <option value="2">2x</option>
                                <option value="3">3x</option>
                                <option value="4">4x</option>
                                <option value="5">5x</option>
                                <option value="6">6x</option>
                                <option value="7">7x</option>
                                <option value="8">8x</option>
                                <option value="9">9x</option>
                                <option value="10">10x</option>
                                <option value="11">11x</option>
                                <option value="12">12x</option>
                            </select>
                            <div class="invalid-feedback">
                                Por favor, selecione o n√∫mero de parcelas.
                            </div>
                        </div>

                        <!-- First Due Date -->
                        <div class="col-md-6">
                            <label for="firstDueDate" class="form-label">Data do Primeiro Vencimento</label>
                            <input type="date" class="form-control" id="firstDueDate" required>
                            <div class="invalid-feedback">
                                Por favor, selecione a data do primeiro vencimento.
                            </div>
                        </div>

                        <!-- Installment Amount Display -->
                        <div class="col-12">
                            <div class="alert alert-info" id="installmentAmount" style="display: none;">
                                Valor por parcela: <strong>R$ 0,00</strong>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="btn btn-primary btn-send">
                    Registrar Cobran√ßa
                </button>
            </form>
        </div>

        <!-- NOVA ABA DE EXTRATOS FINANCEIROS -->
        <div id="statementTab" class="tab-content">
            <div class="extrato-header">
                <h4 class="section-title">
                    <i class="bi bi-file-earmark-spreadsheet"></i>
                    Consulta de Extratos Financeiros
                </h4>
            </div>

            <div class="extrato-controls">
                <button id="refreshBtn" class="btn btn-primary">
                    <span class="loading-spinner" id="loadingSpinner" style="display: none;"></span>
                    <i class="bi bi-arrow-clockwise"></i>
                    Atualizar Dados
                </button>
                
                <div class="extrato-filters-row">
                    <div class="extrato-filter-container">
                        <label for="unidadeSelect" class="extrato-filter-label">
                            <i class="bi bi-building"></i>
                            Unidade:
                        </label>
                        <select id="unidadeSelect" class="extrato-filter-select">
                            <option value="todas">Todas as Unidades</option>
                        </select>
                    </div>
                    
                    <div class="extrato-filter-container">
                        <label for="competenciaSelect" class="extrato-filter-label">
                            <i class="bi bi-calendar-month"></i>
                            Compet√™ncia:
                        </label>
                        <select id="competenciaSelect" class="extrato-filter-select">
                            <option value="">Todas as Compet√™ncias</option>
                        </select>
                    </div>
                    
                    <div class="extrato-filter-container">
                        <label for="dataInicio" class="extrato-filter-label">
                            <i class="bi bi-calendar-check"></i>
                            Data In√≠cio:
                        </label>
                        <input type="date" id="dataInicio" class="extrato-filter-input">
                    </div>
                    
                    <div class="extrato-filter-container">
                        <label for="dataFim" class="extrato-filter-label">
                            <i class="bi bi-calendar-x"></i>
                            Data Fim:
                        </label>
                        <input type="date" id="dataFim" class="extrato-filter-input">
                    </div>
                    
                    <button id="limparFiltrosBtn" class="btn btn-secondary">
                        <i class="bi bi-funnel"></i>
                        Limpar Filtros
                    </button>
                </div>
                
                <div class="extrato-search-container">
                    <div class="extrato-search-input-container">
                        <i class="bi bi-search extrato-search-icon"></i>
                        <input type="text" id="searchInput" placeholder="Buscar por nome, forma de pagamento..." class="extrato-search-input">
                    </div>
                </div>
            </div>

            <div class="extrato-stats-container" id="statsContainer">
                <div class="extrato-stat-card">
                    <div class="extrato-stat-icon">
                        <i class="bi bi-file-text"></i>
                    </div>
                    <div class="extrato-stat-content">
                        <h6>Total de Registros</h6>
                        <span id="totalRecords">0</span>
                    </div>
                </div>
                <div class="extrato-stat-card">
                    <div class="extrato-stat-icon">
                        <i class="bi bi-currency-dollar"></i>
                    </div>
                    <div class="extrato-stat-content">
                        <h6>Valor Total</h6>
                        <span id="totalValue">R$ 0,00</span>
                    </div>
                </div>
                <div class="extrato-stat-card">
                    <div class="extrato-stat-icon">
                        <i class="bi bi-graph-up"></i>
                    </div>
                    <div class="extrato-stat-content">
                        <h6>Valor M√©dio</h6>
                        <span id="averageValue">R$ 0,00</span>
                    </div>
                </div>
                <div class="extrato-stat-card">
                    <div class="extrato-stat-icon">
                        <i class="bi bi-calendar-range"></i>
                    </div>
                    <div class="extrato-stat-content">
                        <h6>Per√≠odo</h6>
                        <span id="periodoInfo">Todos os dados</span>
                    </div>
                </div>
            </div>

            <div class="extrato-table-container">
                <div id="errorMessage" class="extrato-error-message" style="display: none;"></div>
                <div id="noDataMessage" class="extrato-no-data-message" style="display: none;">
                    <i class="bi bi-inbox"></i>
                    <p>Nenhum registro encontrado.</p>
                    <small>Tente ajustar os filtros ou verificar a conex√£o.</small>
                </div>
                
                <table id="extratosTable" class="extrato-table">
                    <thead>
                        <tr>
                            <th><i class="bi bi-calendar-date"></i> Data</th>
                            <th><i class="bi bi-person"></i> Aluno</th>
                            <th><i class="bi bi-credit-card"></i> Forma de Pagamento</th>
                            <th><i class="bi bi-currency-dollar"></i> Valor</th>
                            <th><i class="bi bi-building"></i> Unidade</th>
                            <th><i class="bi bi-file-text"></i> Descri√ß√£o</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- Dados ser√£o inseridos aqui via JavaScript -->
                    </tbody>
                </table>
            </div>

            <!-- Toast notifications -->
            <div id="toastContainer" class="extrato-toast-container"></div>
        </div>

        <!-- NOVA ABA DE GEST√ÉO DE USU√ÅRIOS -->
        <div id="userManagementTab" class="tab-content">
            <div class="user-management-header">
                <div class="shape-1"></div>
                <div class="shape-2"></div>
                <div class="header-content">
                    <h4>
                        <i class="bi bi-people-fill"></i>
                        Gest√£o de Usu√°rios do Sistema
                    </h4>
                    <p>Gerencie acessos, permiss√µes e unidades dos usu√°rios do sistema interno</p>
                </div>
            </div>

            <!-- Formul√°rio para Cadastrar Novo Usu√°rio -->
            <div class="user-form-container">
                <h5 class="mb-3">
                    <i class="bi bi-person-plus"></i>
                    Cadastrar Novo Usu√°rio
                </h5>
                
                <form id="userForm" class="needs-validation" novalidate>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="userEmail" class="form-label">E-mail do Usu√°rio</label>
                            <input type="email" class="form-control" id="userEmail" required>
                            <div class="invalid-feedback">
                                Por favor, insira um e-mail v√°lido.
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <label for="userName" class="form-label">Nome Completo</label>
                            <input type="text" class="form-control" id="userName" required>
                            <div class="invalid-feedback">
                                Por favor, insira o nome completo.
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <label for="userUnit" class="form-label">Unidade de Acesso</label>
                            <select class="form-select" id="userUnit" required>
                                <option value="">Selecione a unidade</option>
                                <option value="administrador">üîê Administrador (Acesso Total)</option>
                                <option value="aparecidinha">Aparecidinha</option>
                                <option value="coop">Coop</option>
                                <option value="julio de mesquita">Julio de Mesquita</option>
                                <option value="vila haro">Vila Haro</option>
                                <option value="vila helena">Vila Helena</option>
                                <option value="vila progresso">Vila Progresso</option>
                            </select>
                            <div class="invalid-feedback">
                                Por favor, selecione uma unidade.
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <label for="userRole" class="form-label">Fun√ß√£o/Cargo</label>
                            <select class="form-select" id="userRole" required>
                                <option value="">Selecione a fun√ß√£o</option>
                                <option value="administrador">Administrador Geral</option>
                                <option value="gerente">Gerente de Unidade</option>
                                <option value="operador">Operador</option>
                                <option value="financeiro">Financeiro</option>
                                <option value="atendimento">Atendimento</option>
                            </select>
                            <div class="invalid-feedback">
                                Por favor, selecione uma fun√ß√£o.
                            </div>
                        </div>
                        
                        <div class="col-12">
                            <label for="userPermissions" class="form-label">Permiss√µes</label>
                            <div class="permissions-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="permCadastrarContas" value="cadastrar_contas">
                                    <label class="form-check-label" for="permCadastrarContas">
                                        Cadastrar Contas BTG
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="permRegistrarCobranca" value="registrar_cobranca">
                                    <label class="form-check-label" for="permRegistrarCobranca">
                                        Registrar Cobran√ßas
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="permConsultarExtratos" value="consultar_extratos">
                                    <label class="form-check-label" for="permConsultarExtratos">
                                        Consultar Extratos
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="permEnviarMensagens" value="enviar_mensagens">
                                    <label class="form-check-label" for="permEnviarMensagens">
                                        Enviar Mensagens
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="permGerenciarUsuarios" value="gerenciar_usuarios">
                                    <label class="form-check-label" for="permGerenciarUsuarios">
                                        Gerenciar Usu√°rios (Apenas Admins)
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-12">
                            <label for="userPassword" class="form-label">Senha Tempor√°ria</label>
                            <input type="password" class="form-control" id="userPassword" required>
                            <div class="form-text">O usu√°rio dever√° alterar esta senha no primeiro acesso.</div>
                            <div class="invalid-feedback">
                                Por favor, defina uma senha tempor√°ria.
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-person-plus"></i>
                            Cadastrar Usu√°rio
                        </button>
                        <button type="button" class="btn btn-secondary" id="clearUserForm">
                            <i class="bi bi-arrow-clockwise"></i>
                            Limpar Formul√°rio
                        </button>
                    </div>
                </form>
            </div>

            <!-- Lista de Usu√°rios Cadastrados -->
            <div class="users-list-container mt-5">
                <h5 class="mb-3">
                    <i class="bi bi-people"></i>
                    Usu√°rios Cadastrados
                    <button class="btn btn-sm btn-outline-primary" id="refreshUsersBtn">
                        <i class="bi bi-arrow-clockwise"></i>
                        Atualizar Lista
                    </button>
                </h5>
                
                <div class="users-search-container mb-3">
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="bi bi-search"></i>
                        </span>
                        <input type="text" class="form-control" id="usersSearchInput" placeholder="Buscar por nome, email ou unidade...">
                    </div>
                </div>
                
                <div class="table-responsive">
                    <table class="table table-striped table-hover" id="usersTable">
                        <thead class="table-dark">
                            <tr>
                                <th>Nome</th>
                                <th>E-mail</th>
                                <th>Unidade</th>
                                <th>Fun√ß√£o</th>
                                <th>Status</th>
                                <th>√öltimo Acesso</th>
                                <th>A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <!-- Usu√°rios ser√£o carregados aqui -->
                        </tbody>
                    </table>
                </div>
                
                <div id="noUsersMessage" class="text-center text-muted py-4" style="display: none;">
                    <i class="bi bi-people" style="font-size: 3rem; opacity: 0.3;"></i>
                    <p class="mt-2">Nenhum usu√°rio encontrado</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <div class="nav-buttons">
            <a href="#" class="nav-button active" data-tab="messageTab">
                <i class="bi bi-chat-dots"></i>
                <span>Enviar Mensagem</span>
            </a>
            <a href="#" class="nav-button" data-tab="paymentTab">
                <i class="bi bi-cash-coin"></i>
                <span>Cadastrar Contas BTG</span>
            </a>
            <a href="#" class="nav-button" data-tab="chargeTab">
                <i class="bi bi-receipt"></i>
                <span>Registrar Cobran√ßa</span>
            </a>
            <a href="#" class="nav-button" data-tab="statementTab">
                <i class="bi bi-file-earmark-spreadsheet"></i>
                <span>Consulta Extratos</span>
            </a>
            <a href="#" class="nav-button" data-tab="userManagementTab" id="userManagementNavBtn" style="display: none;">
                <i class="bi bi-people-fill"></i>
                <span>Gest√£o de Usu√°rios</span>
            </a>
        </div>
    </nav>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="script.js"></script>

    <!-- Modal de Edi√ß√£o de Usu√°rio -->
    <div class="modal fade" id="editUserModal" tabindex="-1" aria-labelledby="editUserModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editUserModalLabel">Editar Usu√°rio</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
                </div>
                <form id="editUserForm">
                    <div class="modal-body">
                        <input type="hidden" id="editUserId">
                        <div class="mb-3">
                            <label for="editUserName" class="form-label">Nome Completo</label>
                            <input type="text" class="form-control" id="editUserName" required>
                        </div>
                        <div class="mb-3">
                            <label for="editUserEmail" class="form-label">E-mail</label>
                            <input type="email" class="form-control" id="editUserEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="editUserUnit" class="form-label">Unidade de Acesso</label>
                            <select class="form-select" id="editUserUnit" required>
                                <option value="administrador">üîê Administrador (Acesso Total)</option>
                                <option value="aparecidinha">Aparecidinha</option>
                                <option value="coop">Coop</option>
                                <option value="julio de mesquita">Julio de Mesquita</option>
                                <option value="vila haro">Vila Haro</option>
                                <option value="vila helena">Vila Helena</option>
                                <option value="vila progresso">Vila Progresso</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="editUserRole" class="form-label">Fun√ß√£o/Cargo</label>
                            <select class="form-select" id="editUserRole" required>
                                <option value="administrador">Administrador Geral</option>
                                <option value="gerente">Gerente de Unidade</option>
                                <option value="operador">Operador</option>
                                <option value="financeiro">Financeiro</option>
                                <option value="atendimento">Atendimento</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Permiss√µes</label>
                            <div class="permissions-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="editPermCadastrarContas" value="cadastrar_contas">
                                    <label class="form-check-label" for="editPermCadastrarContas">Cadastrar Contas BTG</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="editPermRegistrarCobranca" value="registrar_cobranca">
                                    <label class="form-check-label" for="editPermRegistrarCobranca">Registrar Cobran√ßas</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="editPermConsultarExtratos" value="consultar_extratos">
                                    <label class="form-check-label" for="editPermConsultarExtratos">Consultar Extratos</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="editPermEnviarMensagens" value="enviar_mensagens">
                                    <label class="form-check-label" for="editPermEnviarMensagens">Enviar Mensagens</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="editPermGerenciarUsuarios" value="gerenciar_usuarios">
                                    <label class="form-check-label" for="editPermGerenciarUsuarios">Gerenciar Usu√°rios (Apenas Admins)</label>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="editUserStatus" class="form-label">Status</label>
                            <select class="form-select" id="editUserStatus" required>
                                <option value="active">Ativo</option>
                                <option value="inactive">Inativo</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="editUserPassword" class="form-label">Nova Senha (opcional)</label>
                            <input type="password" class="form-control" id="editUserPassword" placeholder="Deixe em branco para n√£o alterar">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                        <button type="submit" class="btn btn-primary">Salvar Altera√ß√µes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Fim do Modal de Edi√ß√£o de Usu√°rio -->
</body>
</html> 